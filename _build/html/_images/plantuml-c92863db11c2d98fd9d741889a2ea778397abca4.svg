<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1748px" preserveAspectRatio="none" style="width:910px;height:1748px;background:#FFFFFF;" version="1.1" viewBox="0 0 910 1748" width="910px" zoomAndPan="magnify"><defs/><g><rect height="26.2969" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="126" x="388" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="116" x="393" y="27.9951">Vision - RCL#3</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="127" x2="127" y1="73.5938" y2="1713.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="263.5" x2="263.5" y1="73.5938" y2="1713.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="398.5" x2="398.5" y1="73.5938" y2="1713.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="629" x2="629" y1="73.5938" y2="1713.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="748" x2="748" y1="73.5938" y2="1713.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="865" x2="865" y1="73.5938" y2="1713.5625"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="89" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="96" y="62.292">ENVIRON</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="89" y="1712.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="96" y="1732.5576">ENVIRON</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="202.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="209.5" y="62.292">VISION_DETECT</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="202.5" y="1712.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="209.5" y="1732.5576">VISION_DETECT</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="335.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="342.5" y="62.292">VISION_DECODE</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="335.5" y="1712.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="342.5" y="1732.5576">VISION_DECODE</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="594" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="601" y="62.292">ORACLE</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="594" y="1712.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="601" y="1732.5576">ORACLE</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="674" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="681" y="62.292">MISSION_MANAGER</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="674" y="1712.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="681" y="1732.5576">MISSION_MANAGER</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="832" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="839" y="62.292">ARMOR</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="832" y="1712.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="839" y="1732.5576">ARMOR</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="903" x="0" y="104.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="903" y1="104.1602" y2="104.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="903" y1="107.1602" y2="107.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="180" x="361.5" y="93.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161" x="367.5" y="109.6606">video stream analysis</text><path d="M5,131.7266 L5,171.7266 L249,171.7266 L249,141.7266 L239,131.7266 L5,131.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M239,131.7266 L239,141.7266 L249,141.7266 L239,131.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="11" y="148.7935">let's assume a regular stream</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="11" y="163.9263">from the four cameras of the robot</text><path d="M136,181.9922 L136,236.9922 L391,236.9922 L391,191.9922 L381,181.9922 L136,181.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M381,181.9922 L381,191.9922 L391,191.9922 L381,181.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="142" y="199.0591">to understand the situation, let's say</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="142" y="214.1919">that the decode spend the time of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="142" y="229.3247">4 frames to end the detection</text><polygon fill="#FEFFDD" points="188,247.3906,339,247.3906,349,266.3906,339,285.3906,188,285.3906,178,266.3906,188,247.3906" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="190" y="263.4575">waiting messages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="190" y="278.5903">from cameras streams</text><polygon fill="#181818" points="252,307.7891,262,311.7891,252,315.7891,256,311.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="311.7891" y2="311.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="306.7231">FRAME from ID=0</text><polygon fill="#FEFFDD" points="173,324.7891,355,324.7891,365,343.7891,355,362.7891,173,362.7891,163,343.7891,173,324.7891" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="175" y="340.856">START detect ID=0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="175" y="355.9888">(dropping the other frames)</text><polygon fill="#181818" points="252,385.1875,262,389.1875,252,393.1875,256,389.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="389.1875" y2="389.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="384.1216">FRAME from ID=1</text><path d="M164,402.1875 L164,457.1875 L364,457.1875 L364,412.1875 L354,402.1875 L164,402.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M354,402.1875 L354,412.1875 L364,412.1875 L354,402.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="170" y="419.2544">only one thread can access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="170" y="434.3872">the decoder each time.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="170" y="449.52">Hence, ID=1 is discarded.</text><polygon fill="#181818" points="252,479.7188,262,483.7188,252,487.7188,256,483.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="483.7188" y2="483.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="478.6528">FRAME from ID=0</text><polygon fill="#181818" points="252,508.8516,262,512.8516,252,516.8516,256,512.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="512.8516" y2="512.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="507.7856">FRAME from ID=2</text><polygon fill="#FEFFDD" points="204,525.8516,323,525.8516,333,536.8516,323,548.8516,204,548.8516,194,536.8516,204,525.8516" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="206" y="541.9185">STOP detect ID=0</text><polygon fill="#181818" points="252,571.1172,262,575.1172,252,579.1172,256,575.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="575.1172" y2="575.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="570.0513">FRAME from ID=2</text><polygon fill="#FEFFDD" points="173,588.1172,355,588.1172,365,607.1172,355,626.1172,173,626.1172,163,607.1172,173,588.1172" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="175" y="604.1841">START detect ID=2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="175" y="619.3169">(dropping the other frames)</text><polygon fill="#181818" points="252,648.5156,262,652.5156,252,656.5156,256,652.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="652.5156" y2="652.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="647.4497">FRAME from ID=0</text><polygon fill="#181818" points="252,677.6484,262,681.6484,252,685.6484,256,681.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="681.6484" y2="681.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="676.5825">FRAME from ID=0</text><polygon fill="#181818" points="252,706.7813,262,710.7813,252,714.7813,256,710.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127" x2="258" y1="710.7813" y2="710.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="134" y="705.7153">FRAME from ID=3</text><polygon fill="#FEFFDD" points="204,723.7813,323,723.7813,333,734.7813,323,746.7813,204,746.7813,194,734.7813,204,723.7813" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="206" y="739.8481">STOP detect ID=2</text><path d="M35,756.9141 L35,796.9141 L219,796.9141 L219,766.9141 L209,756.9141 L35,756.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M209,756.9141 L209,766.9141 L219,766.9141 L209,756.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="41" y="773.981">sending continuously four</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="41" y="789.1138">streams to the detection</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="903" x="0" y="822.7461"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="903" y1="822.7461" y2="822.7461"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="903" y1="825.7461" y2="825.7461"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="241" x="331" y="812.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="222" x="337" y="828.2466">detected a new ArUco marker</text><polygon fill="#FEFFDD" points="181,850.3125,346,850.3125,356,876.3125,346,903.3125,181,903.3125,171,876.3125,181,850.3125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="183" y="866.3794">WORKING CYCLE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="183" y="881.5122">is searching for new hints</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="183" y="896.645">to publish...</text><path d="M204,913.7109 L204,998.7109 L323,998.7109 L323,923.7109 L313,913.7109 L204,913.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M313,913.7109 L313,923.7109 L323,923.7109 L313,913.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="210" y="930.7778">FOUND HINTS :</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="226" y="945.9106">ID=33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="226" y="961.0435">ID=42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="226" y="976.1763">ID=1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="226" y="991.3091">ID=15</text><polygon fill="#181818" points="387,1021.5078,397,1025.5078,387,1029.5078,391,1025.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="393" y1="1025.5078" y2="1025.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="271" y="1020.4419">ID=33</text><polygon fill="#181818" points="387,1050.6406,397,1054.6406,387,1058.6406,391,1054.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="393" y1="1054.6406" y2="1054.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="271" y="1049.5747">ID=42</text><polygon fill="#181818" points="617,1079.7734,627,1083.7734,617,1087.7734,621,1083.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="623" y1="1083.7734" y2="1083.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="406" y="1078.7075">decode ID=33</text><polygon fill="#181818" points="410,1108.9063,400,1112.9063,410,1116.9063,406,1112.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="404" x2="628" y1="1112.9063" y2="1112.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="416" y="1107.8403">ID=33 decoded (hID, key, value)</text><polygon fill="#181818" points="736,1138.0391,746,1142.0391,736,1146.0391,740,1142.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="742" y1="1142.0391" y2="1142.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="406" y="1136.9731">publish ID=33</text><polygon fill="#181818" points="853,1167.1719,863,1171.1719,853,1175.1719,857,1171.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="859" y1="1171.1719" y2="1171.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="755" y="1166.106">ADD HINT</text><polygon fill="#181818" points="759,1196.3047,749,1200.3047,759,1204.3047,755,1200.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="864" y1="1200.3047" y2="1200.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="765" y="1195.2388">success</text><polygon fill="#181818" points="387,1225.4375,397,1229.4375,387,1233.4375,391,1229.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="393" y1="1229.4375" y2="1229.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="271" y="1224.3716">ID=1</text><polygon fill="#181818" points="387,1254.5703,397,1258.5703,387,1262.5703,391,1258.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="393" y1="1258.5703" y2="1258.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="271" y="1253.5044">ID=15</text><polygon fill="#181818" points="617,1283.7031,627,1287.7031,617,1291.7031,621,1287.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="623" y1="1287.7031" y2="1287.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="406" y="1282.6372">decode ID=42</text><polygon fill="#181818" points="410,1312.8359,400,1316.8359,410,1320.8359,406,1316.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="404" x2="628" y1="1316.8359" y2="1316.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="416" y="1311.77">ID=42 decoded (hID, key, value)</text><polygon fill="#181818" points="736,1341.9688,746,1345.9688,736,1349.9688,740,1345.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="742" y1="1345.9688" y2="1345.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="406" y="1340.9028">publish ID=42</text><polygon fill="#181818" points="853,1371.1016,863,1375.1016,853,1379.1016,857,1375.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="859" y1="1375.1016" y2="1375.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="755" y="1370.0356">ADD HINT</text><polygon fill="#181818" points="759,1400.2344,749,1404.2344,759,1408.2344,755,1404.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="864" y1="1404.2344" y2="1404.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="765" y="1399.1685">success</text><polygon fill="#181818" points="617,1429.3672,627,1433.3672,617,1437.3672,621,1433.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="623" y1="1433.3672" y2="1433.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="406" y="1428.3013">decode ID=1</text><polygon fill="#181818" points="410,1458.5,400,1462.5,410,1466.5,406,1462.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="404" x2="628" y1="1462.5" y2="1462.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="416" y="1457.4341">ID=1 decoded (hID, key, value)</text><polygon fill="#181818" points="736,1487.6328,746,1491.6328,736,1495.6328,740,1491.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="742" y1="1491.6328" y2="1491.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="406" y="1486.5669">publish ID=1</text><polygon fill="#181818" points="853,1516.7656,863,1520.7656,853,1524.7656,857,1520.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="859" y1="1520.7656" y2="1520.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="755" y="1515.6997">ADD HINT</text><polygon fill="#181818" points="759,1545.8984,749,1549.8984,759,1553.8984,755,1549.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="864" y1="1549.8984" y2="1549.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="765" y="1544.8325">success</text><polygon fill="#181818" points="617,1575.0313,627,1579.0313,617,1583.0313,621,1579.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="623" y1="1579.0313" y2="1579.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="406" y="1573.9653">decode ID=15</text><polygon fill="#181818" points="410,1604.1641,400,1608.1641,410,1612.1641,406,1608.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="404" x2="628" y1="1608.1641" y2="1608.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="416" y="1603.0981">ID=15 decoded (hID, key, value)</text><polygon fill="#181818" points="736,1633.2969,746,1637.2969,736,1641.2969,740,1637.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="742" y1="1637.2969" y2="1637.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="406" y="1632.231">publish ID=15</text><polygon fill="#181818" points="853,1662.4297,863,1666.4297,853,1670.4297,857,1666.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="859" y1="1666.4297" y2="1666.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="755" y="1661.3638">ADD HINT</text><polygon fill="#181818" points="759,1691.5625,749,1695.5625,759,1699.5625,755,1695.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="864" y1="1695.5625" y2="1695.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="765" y="1690.4966">success</text><!--MD5=[c37eb3b54c1792b297ff2eb6ad5e0ef0]
@startuml

title Vision - RCL#3

''' ENTITIES
participant ENVIRON
participant VISION_DETECT
participant VISION_DECODE
participant ORACLE
participant MISSION_MANAGER
participant ARMOR

== video stream analysis ==

note over ENVIRON
let's assume a regular stream
from the four cameras of the robot
end note

note over VISION_DETECT
to understand the situation, let's say
that the decode spend the time of
4 frames to end the detection
end note

hnote over VISION_DETECT
waiting messages
from cameras streams
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=0

hnote over VISION_DETECT
START detect ID=0
(dropping the other frames)
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=1

note over VISION_DETECT
only one thread can access 
the decoder each time. 
Hence, ID=1 is discarded.
end note

ENVIRON -> VISION_DETECT : FRAME from ID=0
ENVIRON -> VISION_DETECT : FRAME from ID=2

hnote over VISION_DETECT
STOP detect ID=0
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=2

hnote over VISION_DETECT
START detect ID=2
(dropping the other frames)
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=0
ENVIRON -> VISION_DETECT : FRAME from ID=0
ENVIRON -> VISION_DETECT : FRAME from ID=3

hnote over VISION_DETECT
STOP detect ID=2
end hnote

note over ENVIRON
sending continuously four
streams to the detection
end note

== detected a new ArUco marker ==

hnote over VISION_DETECT
WORKING CYCLE
is searching for new hints
to publish...
end hnote

note over VISION_DETECT
FOUND HINTS :
    ID=33
    ID=42 
    ID=1 
    ID=15
end note

VISION_DETECT -> VISION_DECODE : ID=33
VISION_DETECT -> VISION_DECODE : ID=42

VISION_DECODE -> ORACLE : decode ID=33
VISION_DECODE <- ORACLE : ID=33 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=33
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>

VISION_DETECT -> VISION_DECODE : ID=1
VISION_DETECT -> VISION_DECODE : ID=15

VISION_DECODE -> ORACLE : decode ID=42
VISION_DECODE <- ORACLE : ID=42 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=42
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>

VISION_DECODE -> ORACLE : decode ID=1
VISION_DECODE <- ORACLE : ID=1 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=1
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>

VISION_DECODE -> ORACLE : decode ID=15
VISION_DECODE <- ORACLE : ID=15 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=15
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>


@enduml

@startuml

title Vision - RCL#3

participant ENVIRON
participant VISION_DETECT
participant VISION_DECODE
participant ORACLE
participant MISSION_MANAGER
participant ARMOR

== video stream analysis ==

note over ENVIRON
let's assume a regular stream
from the four cameras of the robot
end note

note over VISION_DETECT
to understand the situation, let's say
that the decode spend the time of
4 frames to end the detection
end note

hnote over VISION_DETECT
waiting messages
from cameras streams
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=0

hnote over VISION_DETECT
START detect ID=0
(dropping the other frames)
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=1

note over VISION_DETECT
only one thread can access 
the decoder each time. 
Hence, ID=1 is discarded.
end note

ENVIRON -> VISION_DETECT : FRAME from ID=0
ENVIRON -> VISION_DETECT : FRAME from ID=2

hnote over VISION_DETECT
STOP detect ID=0
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=2

hnote over VISION_DETECT
START detect ID=2
(dropping the other frames)
end hnote

ENVIRON -> VISION_DETECT : FRAME from ID=0
ENVIRON -> VISION_DETECT : FRAME from ID=0
ENVIRON -> VISION_DETECT : FRAME from ID=3

hnote over VISION_DETECT
STOP detect ID=2
end hnote

note over ENVIRON
sending continuously four
streams to the detection
end note

== detected a new ArUco marker ==

hnote over VISION_DETECT
WORKING CYCLE
is searching for new hints
to publish...
end hnote

note over VISION_DETECT
FOUND HINTS :
    ID=33
    ID=42 
    ID=1 
    ID=15
end note

VISION_DETECT -> VISION_DECODE : ID=33
VISION_DETECT -> VISION_DECODE : ID=42

VISION_DECODE -> ORACLE : decode ID=33
VISION_DECODE <- ORACLE : ID=33 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=33
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>

VISION_DETECT -> VISION_DECODE : ID=1
VISION_DETECT -> VISION_DECODE : ID=15

VISION_DECODE -> ORACLE : decode ID=42
VISION_DECODE <- ORACLE : ID=42 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=42
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>

VISION_DECODE -> ORACLE : decode ID=1
VISION_DECODE <- ORACLE : ID=1 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=1
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>

VISION_DECODE -> ORACLE : decode ID=15
VISION_DECODE <- ORACLE : ID=15 decoded (hID, key, value)
VISION_DECODE -> MISSION_MANAGER : publish ID=15
MISSION_MANAGER -> ARMOR : ADD HINT
MISSION_MANAGER <- ARMOR : <i>success</i>


@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 UTC 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>