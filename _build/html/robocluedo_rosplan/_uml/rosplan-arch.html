<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UML – robocluedo rosplan – in a nutshell &mdash; RoboCLuedo #3 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/assets/jsonview.bundle.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sphinx-needs/libs/html/datatables.min.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sphinx-needs/common.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sphinx-needs/modern.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sphinx-needs/layouts.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sphinx-needs/styles.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/assets/jsonview.bundle.js"></script>
        <script src="../../_static/assets/jsonview_loader.js"></script>
        <script src="../../_static/sphinx-needs/libs/html/datatables.min.js"></script>
        <script src="../../_static/sphinx-needs/libs/html/datatables_loader.js"></script>
        <script src="../../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="UML – ROSPlann Knowledge base – formal ROS description" href="rosplan-kb.html" />
    <link rel="prev" title="DOCS – PDDL and ROSPlan" href="../_docs/pddl-and-rosplan.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> RoboCLuedo #3
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">README</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">the project main README</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_uml/arch.html">UML overall arch</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_armor/index.html">PKG DOCS – robocluedo armor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_armor_msgs/index.html">PKG DOCS – robocluedo_armor_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_vision/index.html">PKG DOCS – robocluedo_vision</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">PKG DOCS – robocluedo_rosplan</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../_docs/new-robocluedo.html">PDDL Design – the new RoboCLuedo PDDL model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_docs/pddl-and-rosplan.html">DOCS – PDDL and ROSPlan</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">UML – robocluedo rosplan – in a nutshell</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rosplan-kb.html">UML – ROSPlann Knowledge base – formal ROS description</a></li>
<li class="toctree-l2"><a class="reference internal" href="rosplan-pipeline.html">UML – ROSPlan pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/action_collect_hint.html">CODE REFERENCE – ROSPlan action collect_hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/feedback_manager.html">CODE REFERENCE – class feedback manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/kb_interface.html">CODE REFERENCE – node kb_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/kb_tools.html">CODE REFERENCE – class kb_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/move_to.html">CODE REFERENCE – ROSPlan action move_to</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/move_to_center.html">CODE REFERENCE – ROSPlan action move_to_center</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/replan.html">CODE REFERENCE – ROSPlan action replan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_code_reference/rosplan_pipeline_manager.html">CODE REFERENCE – node rosplan_pipeline_manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_rosplan_msgs/index.html">PKG DOCS – robocluedo_rosplan_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_movement_controller/index.html">PKG DOCS – robocluedo_movement_controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_movement_controller_msgs/index.html">PKG DOCS – robocluedo_movement_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_mission_manager/index.html">PKG DOCS – robocluedo_mission_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_module_testing/index.html">PKG DOCS – RoboCLuedo Module Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dependencies Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_dependencies/_docs/erl2-oracle-user-manual.html">Oracle (for the ERL project no.2) – User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_dependencies/_docs/erl3-oracle-user-manual.html">Oracle (for the ERL project no.3) – User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_dependencies/_docs/robocluedo-hunter-user-manual.html">the RoboCLuedo Project no.3 – robot “hunter” URDF model – User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_dependencies/_docs/worlds-user-manual.html">WORLDS – a collection of Gazebo World Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robocluedo_dependencies/vision_opencv/cv_bridge/doc/index.html">cv_bridge</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Documents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/catkin-notes.html">Notes about Catkin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/cpp-docs-template.html">Documentation for c++ nodes and libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/dev-log.html">RoboCLuedo – erl3 – Development Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/how-to-setup-doxy-sphinx-ws.html">How to setup a Doxygen/Sphinx workspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/how-to-setup-doxy-sphinx-ws.html#sphinx-config-file-configuration">Sphinx – config file configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/rest-directives.html">ReStructured Directives – practical documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/run-the-project.html">How to Run this Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/sphinx-mock.html">Sphinx for Py – modules mocking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/sphinx-yaml.html">YAML and Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_docs/twist-keyboard.html">HOW TO – twist keyboard</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General Code Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../_examples/examples-index.html">Code Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extensions and other references</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../_ext/plant-uml-reference.html">PlantUML quick reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">RoboCLuedo #3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">PKG DOCS – robocluedo_rosplan</a> &raquo;</li>
      <li>UML – robocluedo rosplan – in a nutshell</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/robocluedo_rosplan/_uml/rosplan-arch.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="uml-robocluedo-rosplan-in-a-nutshell">
<h1>UML – robocluedo rosplan – in a nutshell<a class="headerlink" href="#uml-robocluedo-rosplan-in-a-nutshell" title="Permalink to this heading"></a></h1>
<hr class="docutils" />
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">UML – robocluedo rosplan – in a nutshell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#elements">elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uml-architecture-simplified">UML – Architecture (simplified)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#blocks">Blocks</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="elements">
<h2>elements<a class="headerlink" href="#elements" title="Permalink to this heading"></a></h2>
<p>nodes and components:</p>
<ul class="simple">
<li><p>knowledge base</p></li>
<li><p>problem interface</p></li>
<li><p>planning interface</p></li>
<li><p>parsing interface</p></li>
<li><p>plan dispatcher</p></li>
</ul>
<p>… actions …</p>
<ul class="simple">
<li><p>feedback manager</p></li>
<li><p>rosplan kb interface</p></li>
<li><p>rosplan pipeline manager</p></li>
</ul>
</div>
<div class="section" id="uml-architecture-simplified">
<h2>UML – Architecture (simplified)<a class="headerlink" href="#uml-architecture-simplified" title="Permalink to this heading"></a></h2>
<p>here’s a essential representation of the package plus the ROSPlan system, controlled by this package:</p>
<p class="plantuml">
<object data="../../_images/plantuml-6ce6a5ed608d277b9d3c8a6b94ac2cddc9265f7a.svg" type="image/svg+xml" style="width:1027px;height:1621px;background:#FFFFFF;">
<img src="../../_images/plantuml-6ce6a5ed608d277b9d3c8a6b94ac2cddc9265f7a.png" alt="&#64;startuml

''' DIAGRAM INFOS
title &quot;robocluedo rosplan&quot;
skinparam Padding 8


''' DIAGRAM ELEMENTS
package &quot;robocluedo rosplan&quot; {

file &quot;pddl\ndomain&quot; as PDDL_DOM
file &quot;pddl\nproblem&quot; as PDDL_PROB

package &quot;ROSplan&quot; {
	database &quot;knowledge base&quot; &lt;&lt;ROSPlan&gt;&gt; as KB
	[problem interface] &lt;&lt;ROSPlan&gt;&gt; as PROBLEM
	[planning interface] &lt;&lt;ROSPlan&gt;&gt; as PLAN
	[parsing interface] &lt;&lt;ROSPlan&gt;&gt; as PARSE
	[plan dispatcher] &lt;&lt;ROSPlan&gt;&gt; as DISPATCH

	KB -right-- PROBLEM
	PROBLEM -down-- PLAN
	PLAN -down-- PARSE
	KB -right- PARSE
	PARSE -down-- DISPATCH
	KB -left- DISPATCH
}

package &quot;actions dispatch&quot; {
	[action] as ACTION
}

[feedback\nmanager] as FEEDBACK
[ROSPlan\npipeline manager] &lt;&lt;node&gt;&gt; as MANAGER
[KB interface] &lt;&lt;node&gt;&gt; as IKB
ACTION --- IKB

DISPATCH -right-- ACTION
PDDL_DOM --- KB
PDDL_PROB --- KB
IKB --- KB

ACTION --- FEEDBACK

PROBLEM -right-- MANAGER
PLAN -right-- MANAGER
PARSE -right-- MANAGER
DISPATCH -right-- MANAGER
}

() &quot;feedback topic&quot; as TOPIC_FEEDBACK
FEEDBACK --&gt; TOPIC_FEEDBACK
() &quot;service pipeline manager&quot; as SRV_MANAGER
MANAGER --&gt; SRV_MANAGER
() &quot;KB interface service&quot; as SRV_IKB
IKB --&gt; SRV_IKB
&#64;enduml"/>

</object></p>
<div class="section" id="blocks">
<h3>Blocks<a class="headerlink" href="#blocks" title="Permalink to this heading"></a></h3>
<p>let’s see better some important blocks:</p>
<ul class="simple">
<li><p>the <strong>rosplan pipeline manager</strong> controls the steps the ROSPlan architecture uses to make and execute the plan, from the problem loading phase to the dispatch. Another fundamental functionality provided by this block is to make explainable possible problems that could occur during the planning, with a rich feedback send to the node using the pipeline manager.</p></li>
<li><p>the service for dispatching the plan provides just two informations: if the plan has been executed successfully, and if the goal has been fulfilled at the end of the dispatch, and unfortunately <em>nothing else</em>. Here’s where the <strong>feedback manager</strong> comes in: role of the feedback manager is to make the ROSPlan actions able to explain in details each possible “problematic” situation which could happen during the plan dispatch. The action encountering something wrong <em>publishes</em> a precise type of feedback through a topic reserved for the feedback exchange, and the ROSPlan pipeline manager exploits such a feedback to explain what’s wrong with the last plan dispatch.</p></li>
<li><p>another fundamental tool inside the package is the so-called <strong>KB interface</strong>, which provides the ability to modify the predicates of the problem instance inside the knowledge base. This eposes services making easier to <em>replan</em> as well as to <em>alter</em> and to <em>read</em> the informations inside the knowledge base. Its implementation follows the particular characteristics of the PDDL domain, hence one of its roles is to <em>hide the spcificity of the PDDL problem</em>, providing a general, flexible interface for handling the problem in a (kinda) “standard” way.</p></li>
<li><p>the dispach can interact with the system using a bunch of both ROS actions and Simulated Actions, enabling the system to perform functionalities such as navigation and manipulation.</p></li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../_docs/pddl-and-rosplan.html" class="btn btn-neutral float-left" title="DOCS – PDDL and ROSPlan" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rosplan-kb.html" class="btn btn-neutral float-right" title="UML – ROSPlann Knowledge base – formal ROS description" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Francesco Ganci.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>