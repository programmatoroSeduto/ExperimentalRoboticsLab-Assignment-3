<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="md__docs_dev-log" kind="page">
    <compoundname>md__docs_dev-log</compoundname>
    <title>RoboCLuedo – erl3 – Development Log</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><hruler/>
</para>
<para><programlisting filename=".toctree"><codeline><highlight class="normal">---</highlight></codeline>
<codeline><highlight class="normal">caption:<sp/>Indice<sp/></highlight></codeline>
<codeline><highlight class="normal">---</highlight></codeline>
<codeline><highlight class="normal">./dev-log.md</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
<para><itemizedlist>
<listitem><para><ulink url="http://www.plantuml.com/plantuml/uml/VLNlQkGs4F-kfvWB77NWuetthd-Q3-NI59h0fLt8XdufB8eqNelOaf7acAKK-XfzlJv9PoHxDybo-M2FD7z-C_ERyUxd4AMFGzSAyKvZRIo22t952cXYxCF5Ok7bM6vDR8Q78Q1NpaQqiLIkMrnv6HhKdR5wiMgbZVUtNyvSZpQW6ho9E-bLOoAgE7XSdXcA3OjEXeXUl3DMjOFUfrjSkQvpjkpfV6oyfymBsRPVCLzBhqVfyGsNMnFK6-Oxz4zlfhWpyHcy-AQ4M-btO098-0MViAM-FHWBiK5OUQS75I6Yx4gu8qqZsV4FOigD0QfpM5s1j9eUkBJQEwEXRvp5af5_TWyP-5PQkJt0NYhb1Xl3X7kTOCb9pL1cjSUuUU9xOEtD6hR33iR6GUlS8-dgY3uXXjHs2HonRd07D2ABNBbBTejnTFuHQFWVKf8d8q52RJoEHCRiTcC9a7nBGSm03ok8wBP8DWz_2U9mmxkpsNf4kz4pNGLJ-05EM9oGV4uRt_Uydfo-nc2jZCRPK72dvCo2WwZRzHIVXmgNlA774BJEnc88cowpN13j54HlZdt1DIkcMH3EtzmarMOK7hMfCJn6rnUzef3gnsLPVVT3MPNLEKCSnf-wlPfgQcNF8Pry5RFCQTKiidUUSM5w5apIpihEABXPiL-sGbNn9PrVXicyR4Tnqn9IQQy3yueKMRngAZdVFn1F0qnaBy_Byq_mPNrt642cZ3ZxBM-Jc9XY0ZUZyTZo5BmR8kKPJMqkLo_pCDGKEnL5-rZGG_hVwvfWW2xiTKqYUymhMim7idvRbH-_BvUVgFAFnvYgTOCkqfjiyqg_z1CYVVLdPpz1houWkC5JSkKq7WmJnMnLHhRGeJPI2DghPEua1TR6IfkinjPkRyj3lO0aG57LWLBoPYTpdi45VwIrsGxv0n0YHoMFp9wOIdYkoe8rp9KG6Mj_fwhsv_vm58BUwJRJACHyIkf45-cSYuJslZOjqbfXSGeUhKQFcWg83Sn_3q190rKDxwT3SVgdNJS8roQgfZ6FwF_xvzy0lmv68qIt3nIV2I_zz0hnFm00">plantUML online</ulink></para>
</listitem><listitem><para><ulink url="https://www.planttext.com/">un altro editor motlo carino per PlantText</ulink></para>
</listitem><listitem><para><ulink url="https://www.onlinegdb.com/online_c++_compiler">onlineGDB</ulink></para>
</listitem></itemizedlist>
</para>
<sect1 id="md__docs_dev-log_1autotoc_md22">
<title>15/08/2022 – setup repository – starter kit –</title>
<para>nuovo assignment, nuova avventura:</para>
<para><itemizedlist>
<listitem><para>primo setup della repository</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;simil-fork from erl2&quot;</para>
</listitem><listitem><para>creazione di un nuovo log pulito (serve a me per riflettere e annotare cose che non so dove metterei altrimenti)</para>
</listitem><listitem><para>customizzazione della documentazione (... il 2 diventa un 3?)</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;setup (docs)&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
<para><itemizedlist>
<listitem><para>importazione materiale del prof per il terzo assignment</para>
</listitem><listitem><para><ulink url="https://github.com/CarmineD8/exp_assignment3/">link starter kit per l&apos;assignment</ulink></para>
</listitem><listitem><para>modalità di sviluppo al nuovo giocattolo<itemizedlist>
<listitem><para>ANZI, per il momento niente modalità di sviluppo</para>
</listitem><listitem><para>più avanti semmai ne inserirò una</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>compila? compila (perfetto)</para>
</listitem><listitem><para>e senza perdere tempo, voglio una documentazione per il nuovo nodo<itemizedlist>
<listitem><para>uml</para>
</listitem><listitem><para>aggiungo anche una minima copde reference</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>potrei avere qualche problema col nome dei services più avanti</bold> perchè purtroppo adesso */oracle_hint* è un servizio, e non più un topic. servirà un remapping ... o forse posso semplicemente cambiare nome del servizio nel mission manager, o fare un remapping da launch file</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;setup (starter kit with oracle documentation)&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
<para>prima di tutto serve avere funzionante il modello del robot. La cosa più ragionevole in questo momento è partire dall&apos;installazione di MoveBasepassando per il modello del robot. Questo terzo assignment utilizzerà una versioneleggermente diversa del robot, equipaggiata con 3 telecamere e con MoveBase integrato. <emphasis>partiamo dal modello e passiamo da move_base</emphasis>; alle telecamere ci pensiamo dopo.</para>
<para><itemizedlist>
<listitem><para>creazione del nuovo modello URDF</para>
</listitem><listitem><para>e creazione del nuovo maledettissimo pacchetto MoveIt (sperando di non combinare casini stavolta)</para>
</listitem><listitem><para>la nuova versione del robot avrà come soprannome &quot;hunter&quot;</para>
</listitem><listitem><para>adesso tutti i noiosissimi setup (pensa se il setup assistant funzionasse davvero ... sarebbe un mondo magnifico no? e invece siamo qui)<itemizedlist>
<listitem><para>fix del world file</para>
</listitem><listitem><para>&quot;run&quot; launch file (altro fix da segnare)</para>
</listitem><listitem><para>non avevo fixato RViz ... dovrò farlo prima o poi</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>direi che il pacchetto è pronto!</para>
</listitem><listitem><para>...hmmm però aspetta: e che dire del <emphasis>mastino di Baskerville?</emphasis> che in inglese è <emphasis>the HOUD of baskerville?</emphasis> chiamarlo Hunter sarebbe ... un&apos;occasione mancata<itemizedlist>
<listitem><para>e quindi, cambiamo tutti i nomi? <emphasis>certo che no.</emphasis></para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;working on robot model (robocluedo HUNTER)&quot;</para>
</listitem><listitem><para><emphasis>e ci si rivede domani</emphasis></para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
</sect1>
<sect1 id="md__docs_dev-log_1autotoc_md26">
<title>16/08/2022 – modello del robot</title>
<para>cotinuiamo a lavorare sul modello del robot (oggi si fa poco...)</para>
<para><itemizedlist>
<listitem><para>il mio robot avrà ben 4 telecamere (giusto per complicare un po&apos; la situazione, ecco)<itemizedlist>
<listitem><para>una frontale <emphasis>bassa</emphasis></para>
</listitem><listitem><para>una sul cluedo link</para>
</listitem><listitem><para>un&apos;altra a destra del robot</para>
</listitem><listitem><para>e un&apos;altra a sinistra, un po&apos; come Spot</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>prima il codice per applicare le videocamere</para>
</listitem></itemizedlist>
</para>
<para>parte Gazebo URDF:</para>
<para><programlisting filename=".xml"><codeline><highlight class="comment">&lt;!--<sp/>camera<sp/>--&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">&lt;</highlight><highlight class="keywordtype">gazebo</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">reference</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;camera_link&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;</highlight><highlight class="keywordtype">sensor</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">type</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;camera&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;camera1&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">update_rate</highlight><highlight class="normal">&gt;30.0&lt;/</highlight><highlight class="keywordtype">update_rate</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">camera</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;head&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">horizontal_fov</highlight><highlight class="normal">&gt;1.3962634&lt;/</highlight><highlight class="keywordtype">horizontal_fov</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">image</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">width</highlight><highlight class="normal">&gt;800&lt;/</highlight><highlight class="keywordtype">width</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">height</highlight><highlight class="normal">&gt;800&lt;/</highlight><highlight class="keywordtype">height</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">format</highlight><highlight class="normal">&gt;</highlight><highlight class="keyword">R8G8B8</highlight><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">format</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">image</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">clip</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">near</highlight><highlight class="normal">&gt;0.02&lt;/</highlight><highlight class="keywordtype">near</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">far</highlight><highlight class="normal">&gt;300&lt;/</highlight><highlight class="keywordtype">far</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">clip</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">noise</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">type</highlight><highlight class="normal">&gt;</highlight><highlight class="keyword">gaussian</highlight><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">type</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">mean</highlight><highlight class="normal">&gt;0.0&lt;/</highlight><highlight class="keywordtype">mean</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">stddev</highlight><highlight class="normal">&gt;0.007&lt;/</highlight><highlight class="keywordtype">stddev</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">noise</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">camera</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">plugin</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;camera_controller&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">filename</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;libgazebo_ros_camera.so&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">alwaysOn</highlight><highlight class="normal">&gt;</highlight><highlight class="keyword">true</highlight><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">alwaysOn</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">updateRate</highlight><highlight class="normal">&gt;0.0&lt;/</highlight><highlight class="keywordtype">updateRate</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">cameraName</highlight><highlight class="normal">&gt;</highlight><highlight class="keyword">robot</highlight><highlight class="normal">/</highlight><highlight class="keyword">camera1</highlight><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">cameraName</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">imageTopicName</highlight><highlight class="normal">&gt;</highlight><highlight class="keyword">image_raw</highlight><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">imageTopicName</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">cameraInfoTopicName</highlight><highlight class="normal">&gt;</highlight><highlight class="keyword">camera_info</highlight><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">cameraInfoTopicName</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">frameName</highlight><highlight class="normal">&gt;</highlight><highlight class="keyword">camera_link</highlight><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">frameName</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">hackBaseline</highlight><highlight class="normal">&gt;0.07&lt;/</highlight><highlight class="keywordtype">hackBaseline</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">distortionK1</highlight><highlight class="normal">&gt;0.0&lt;/</highlight><highlight class="keywordtype">distortionK1</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">distortionK2</highlight><highlight class="normal">&gt;0.0&lt;/</highlight><highlight class="keywordtype">distortionK2</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">distortionK3</highlight><highlight class="normal">&gt;0.0&lt;/</highlight><highlight class="keywordtype">distortionK3</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">distortionT1</highlight><highlight class="normal">&gt;0.0&lt;/</highlight><highlight class="keywordtype">distortionT1</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">distortionT2</highlight><highlight class="normal">&gt;0.0&lt;/</highlight><highlight class="keywordtype">distortionT2</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">plugin</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">sensor</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">gazebo</highlight><highlight class="normal">&gt;<sp/></highlight></codeline>
</programlisting></para>
<para>Dovrò aggiungere dei link per farci stare le videocamere...</para>
<para><itemizedlist>
<listitem><para>e andiamo a modificare il modello del robot</para>
</listitem><listitem><para>la camera davanti bassa<itemizedlist>
<listitem><para>creazione dei link nel modello URDF</para>
</listitem><listitem><para>compila? compila</para>
</listitem><listitem><para>e creazione della videocamera montata sul link</para>
</listitem><listitem><para>e ora vediamo se funge ... e pare che funga</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>voglio rivedere meglio la questione dei topic della videocamera</para>
</listitem></itemizedlist>
</para>
<para><programlisting filename=".text"><codeline><highlight class="normal">/robot/camera_front_low/camera_info</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/compressed</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/compressed/parameter_descriptions</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/compressed/parameter_updates</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/compressedDepth</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/compressedDepth/parameter_descriptions</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/compressedDepth/parameter_updates</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/theora</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/theora/parameter_descriptions</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/image_raw/theora/parameter_updates</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/parameter_descriptions</highlight></codeline>
<codeline><highlight class="normal">/robot/camera_front_low/parameter_updates</highlight></codeline>
</programlisting></para>
<para><itemizedlist>
<listitem><para>il sistema funziona! Ora aggiungiamo quella sul braccio<itemizedlist>
<listitem><para>compilare compila</para>
</listitem><listitem><para>e prova con rviz gazebo ... ruotata nel verso sbagliat! ... e ok</para>
</listitem><listitem><para>telecamera laterale 1 ... ok</para>
</listitem><listitem><para>e telecamera laterale 2 ... ok</para>
</listitem><listitem><para>genera? genera</para>
</listitem><listitem><para>e in RViz pare funzioni tutto come dovrebbe</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;working on robot model (added cameras)&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
<para>e adesso, installazione di ArUco e openCV</para>
<para><itemizedlist>
<listitem><para>prima di tutto, voglio avere delle versioni mie di OpenCV installate sulla macchina, quella effettivamente data per l&apos;assignment (sarà un errore? in caso ho il backup della ws intera)</para>
</listitem><listitem><para>installazione di openCV per ROS<itemizedlist>
<listitem><para>compila? compila.</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>meglio scriversi un piccolo documento dove spiego come installare queste cose</para>
</listitem><listitem><para>importazione dei modelli arUco</para>
</listitem><listitem><para>compilazione ... compila</para>
</listitem><listitem><para>e adesso proviamo se i markers funzionano<itemizedlist>
<listitem><para><bold>funge!</bold></para>
</listitem><listitem><para>meglio copiare tutt i markers anche nel package worlds</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;setting up openCV and ArUco&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
<para>adesso che ArUco c&apos;è, possiamo iniziare il lavoro serio</para>
<para><itemizedlist>
<listitem><para>questo nuovo progetto richiede ... un <bold>NUOVO PACKAGE</bold></para>
</listitem></itemizedlist>
</para>
<para><programlisting filename=".bash"><codeline><highlight class="normal">catkin_create_pkg<sp/>robocluedo_vision<sp/>roscpp<sp/>rospy<sp/>std_msgs<sp/>geometry_msgs<sp/>nav_msgs<sp/>sensor_msgs<sp/>erl2<sp/>exp_assignment3<sp/>aruco<sp/>aruco_msgs<sp/>dynamic_reconfigure<sp/>cv_bridge<sp/>image_transport<sp/></highlight></codeline>
</programlisting></para>
<para><itemizedlist>
<listitem><para>eeee documentazione, subito</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;working on vision (setup package)&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
</sect1>
<sect1 id="md__docs_dev-log_1autotoc_md30">
<title>17/08/2022 – move_base navigation</title>
<para>iniziamo subito da move_base, per passare poi al navigation system per il nuovo assignment. ci sarà da rivedere anche il manipulation system, dato che le postures del robot sono cambiate. (magari documentare le postures?)</para>
<para><itemizedlist>
<listitem><para>installazione di move_base (dalla vecchia versione di erl2)</para>
</listitem><listitem><para>devo anche fare una modifica a come viene lanciato RViz in modo da poter scegliere il file di configurazione</para>
</listitem><listitem><para>ora dovrebbe esserci tutto: posso provare il navigation stack ... <emphasis>e funziona a primo colpo signori</emphasis></para>
</listitem><listitem><para>meglio annotarsi due cose nella documentazione del robot riguardo il navigation stack<itemizedlist>
<listitem><para>(mi ringrazierò in futuro, quando dovrò installare di nuovo move_base su un altro robot)</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>ultima prova, giusto per capire se è tutto a posto</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;working on robot model (setup move base)&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
<para>ora, il navigation controller del robot</para>
<para><itemizedlist>
<listitem><para>anzitutto, il nodo che deve eseguire la navigation: penso avrà lo stesso meccanismo dei nodi di <ref refid="namespacebug__m" kindref="compound">bug_m</ref> : trigger, e wait del segnale, e struttura come macchina a stati</para>
</listitem><listitem><para><bold>nuovo nodo</bold> : <ref refid="move__base__nav_8py" kindref="compound">move_base_nav.py</ref><itemizedlist>
<listitem><para>prima struttura del nodo</para>
</listitem><listitem><para>(c&apos;è voluto un po&apos; più del previsto...)</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>prima di andare avanti, voglio vedere se il nodo si avvia e non crasha</para>
</listitem></itemizedlist>
</para>
<para><programlisting filename=".bash"><codeline><highlight class="normal">#<sp/>shell<sp/>1</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>robocluedo_robot_hunter<sp/>run.launch<sp/>2&gt;/dev/null</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>2</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>robocluedo_movement_controller<sp/>move_base_nav.py</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>3</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>true&quot;<sp/></highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>false&quot;<sp/></highlight></codeline>
</programlisting></para>
<para><itemizedlist>
<listitem><para>e ora torniamo ad implementare questo bellissimo nodo</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;workign on nvigation (implementation of the new navigation service)&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
<para>e torniamo al lavoro sul navigation system</para>
<para><itemizedlist>
<listitem><para>occorre aggiungere la &quot;action&quot; move_base...<itemizedlist>
<listitem><para>...che tratterò come un topic per il momento, <emphasis>perchè sono pigro</emphasis></para>
</listitem><listitem><para>recupero la documentazione su move_base dal vecchiop assignment</para>
</listitem><listitem><para>... e ovviamnete manca la parte su come inviare la richiesta di cancellazione tramite topic, dannato me</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>ALT FERMI TUTTI</bold> c&apos;è un grosso problema con move_base ... al solito<itemizedlist>
<listitem><para>il robot continua ad indietreggiare quando move_base è attivo</para>
</listitem><listitem><para>la traiettoria calcolata parte <emphasis>dal retro del robot</emphasis> ... eppure go to point ha sempre funzionato, quindi perchè move_base da il comando invertito? <emphasis>forse un problema col modello urdf?</emphasis></para>
</listitem><listitem><para>che genere di twist viene inviato da move_base?</para>
<para>```text linear: x: -0.1 y: 0.0 z: 0.0 angular: x: 0.0 y: 0.0 z: 0.0 ```</para>
</listitem><listitem><para>non è un problema del modello: è esattamente identico a quello del precedente assignment (erl2 quello vecchio), funzionava, deve continuare a funzionare</para>
</listitem><listitem><para>... se provassi a cambiare il controller?</para>
</listitem><listitem><para>potrebbe esserci un problema col local planner</para>
</listitem><listitem><para>credo che il problema possa essere più stupido di quel che sembra: il robot non riesce a curvare per via delle ruote dietro ... l&apos;altro nodo ignorava questo aspetto dinamico, <emphasis>ma a quanto pare a move_base non sfugge proprio nulla.</emphasis> ci fosse un modo per diminuire l&apos;attrito delle ruote dietro e renderle così indifferenti alla rotazione...</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>il problema è più fastidioso di quel che sembra: nemmeno annullando l&apos;attrito si riesce. il local planner nella visualizzazione RViz mostra un buco nero davanti al robot, segno che ha individuato un ostacolo, perciò indietreggia... il problema è che non c&apos;è alcun ostacolo!<itemizedlist>
<listitem><para>il problema potrebbe essere nel laucnher? ha senso?<itemizedlist>
<listitem><para>l&apos;unica cosa regolabile da launch è GMapping, quindi no</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>allora il problema è in qualche configuration file...</para>
</listitem><listitem><para>prima però voglio provare a muovere il robot inviando direttamente un comando su cmd_vel e vedere che succede...<itemizedlist>
<listitem><para>muoversi si muove...</para>
</listitem></itemizedlist>
</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>... e mi viene un altro dubbio:<itemizedlist>
<listitem><para>i sensori laser vanno ad incidere sulle ruote di fianco ... questo in effetti potrebbe portare MoveBase a vedere degli ostacoli attorno al robot, e preferire così un certo tipo di movimento per evitare l&apos;ostacolo</para>
</listitem><listitem><para>la soluzione potrebbe quindi essere spostare il sensore laser in avanti...</para>
</listitem><listitem><para>provo ...</para>
</listitem><listitem><para>ora che ho modificato il modello, passo a provare con move base ... <bold>E PROBLEMA RISOLTO SIGNORI</bold>: ora va dove voglio io!</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;working on robot model (move_base laser issue)&quot;</para>
</listitem><listitem><para>e andiamo avanti con lo sviluppo del nodo<itemizedlist>
<listitem><para>quindi ... questa cancellazione?</para>
</listitem><listitem><para>e torniamo ad implementare</para>
</listitem><listitem><para>(oggi sto facendo una fatica incredibile...)</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>è arrivata la parte migliore: <emphasis>testare...</emphasis></para>
</listitem></itemizedlist>
</para>
<para><programlisting filename=".bash"><codeline><highlight class="normal">#<sp/>shell<sp/>1</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>robocluedo_robot_hunter<sp/>run.launch<sp/>world_name:=square_room.world<sp/>2&gt;/dev/null</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>2</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>robocluedo_movement_controller<sp/>head_orientation.py</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>3</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>robocluedo_movement_controller<sp/>move_base_nav.py</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>4</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>2.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>true&quot;<sp/></highlight></codeline>
<codeline><highlight class="normal">sleep<sp/>30</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>false&quot;<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>-1.5</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>true&quot;<sp/></highlight></codeline>
<codeline><highlight class="normal">sleep<sp/>30</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>false&quot;<sp/></highlight></codeline>
</programlisting></para>
<para><itemizedlist>
<listitem><para>le cose ora iniziano a funzionare... ultimo test:</para>
</listitem></itemizedlist>
</para>
<para><programlisting filename=".bash"><codeline><highlight class="normal">#<sp/>shell<sp/>1</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>robocluedo_robot_hunter<sp/>run.launch<sp/>world_name:=square_room.world<sp/>2&gt;/dev/null</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>2</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>robocluedo_movement_controller<sp/>head_orientation.py<sp/>&amp;</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>robocluedo_movement_controller<sp/>move_base_nav.py</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>3</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>2.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>true&quot;<sp/></highlight></codeline>
<codeline><highlight class="normal">sleep<sp/>30</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>false&quot;<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>-1.5</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>true&quot;<sp/></highlight></codeline>
<codeline><highlight class="normal">sleep<sp/>30</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>false&quot;<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>2.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>true&quot;<sp/></highlight></codeline>
<codeline><highlight class="normal">sleep<sp/>30</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>false&quot;<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_x<sp/>-2.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_pos_y<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosparam<sp/>set<sp/>des_yaw<sp/>0.0</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>true&quot;<sp/></highlight></codeline>
<codeline><highlight class="normal">sleep<sp/>30</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/nav_stack_go_to_point_switch<sp/>&quot;data:<sp/>false&quot;<sp/></highlight></codeline>
</programlisting></para>
<para><itemizedlist>
<listitem><para><emphasis>e funge.</emphasis></para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;working on navigation (move_base navigation node tested, ready to use)&quot;</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
<para>e ora il controller, altro dolore:</para>
<para><itemizedlist>
<listitem><para>implementazione del controller (molto simile a quello di <ref refid="namespacebug__m" kindref="compound">bug_m</ref>)</para>
</listitem><listitem><para>compila? alla prima senza errori, sono un campione</para>
</listitem><listitem><para>e ora, prova pratica</para>
</listitem></itemizedlist>
</para>
<para><programlisting filename=".bash"><codeline><highlight class="normal">#<sp/>shell<sp/>1</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>robocluedo_robot_hunter<sp/>run.launch<sp/>world_name:=square_room.world<sp/>2&gt;/dev/null</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>2</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>robocluedo_movement_controller<sp/>navigation_system.launch</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>3</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>robocluedo_movement_controller<sp/>navigation_manager</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>shell<sp/>4</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/navigation_manager/set_algorithm<sp/>&quot;algorithm:<sp/>1</highlight></codeline>
<codeline><highlight class="normal">enabled:<sp/>false&quot;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/navigation_manager/navigation<sp/>&quot;target:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>x:<sp/>1.5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>y:<sp/>2.0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>yaw:<sp/>1.0</highlight></codeline>
<codeline><highlight class="normal">force_enable:<sp/>false&quot;<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>this<sp/>sequence<sp/>moves<sp/>the<sp/>robot</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/navigation_manager/set_algorithm<sp/>&quot;algorithm:<sp/>1</highlight></codeline>
<codeline><highlight class="normal">enabled:<sp/>true&quot;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/navigation_manager/navigation<sp/>&quot;target:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>x:<sp/>-1.5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>y:<sp/>2.0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>yaw:<sp/>1.0</highlight></codeline>
<codeline><highlight class="normal">force_enable:<sp/>false&quot;<sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>this<sp/>sequence<sp/>moves<sp/>the<sp/>robot<sp/>EVEN<sp/>IF<sp/>the<sp/>component<sp/>has<sp/>been<sp/>turned<sp/>off</highlight></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/navigation_manager/set_algorithm<sp/>&quot;algorithm:<sp/>1</highlight></codeline>
<codeline><highlight class="normal">enabled:<sp/>false&quot;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">rosservice<sp/>call<sp/>/navigation_manager/navigation<sp/>&quot;target:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>x:<sp/>1.5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>y:<sp/>-2.0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>yaw:<sp/>1.0</highlight></codeline>
<codeline><highlight class="normal">force_enable:<sp/>true&quot;<sp/></highlight></codeline>
</programlisting></para>
<para><itemizedlist>
<listitem><para>FUNZIONAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</para>
</listitem><listitem><para><bold>COMMIT</bold>: &quot;working on navigation (controller implemented and tested, ready to use)&quot;</para>
</listitem></itemizedlist>
</para>
</sect1>
<sect1 id="md__docs_dev-log_1autotoc_md34">
<title>Note</title>
<sect2 id="md__docs_dev-log_1autotoc_md35">
<title>utilizzo di move base</title>
<para><itemizedlist>
<listitem><para>il nodo che si occupa di fare la navigation aggiorna il plan parecchie volte, perchè sulle lunghe tratte move_base tende a far andare il robot in percorsi che non hanno molto senso</para>
</listitem><listitem><para>rifacendo il panning ogni tot si assicura una certa sitabilità sul path prescelto</para>
</listitem><listitem><para>unico difetto: il robot si ferma spesso per fare replanning, causando delle oscillazioni in avanti un po&apos; brusche </para>
</listitem></itemizedlist>
</para>
</sect2>
</sect1>
    </detaileddescription>
  </compounddef>
</doxygen>
